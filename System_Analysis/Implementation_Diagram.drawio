<mxfile host="app.diagrams.net" modified="2023-08-01T18:10:38.742Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36" etag="0xObinyfduw9mG5BDdEk" version="21.6.5" type="github" pages="2">
  <diagram name="Page-1" id="bPAhkjNUzkpyi0J7G6j3">
    <mxGraphModel dx="933" dy="655" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="vKs9p2N3G4hvFBJP7lqV-1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="150" y="82.63" width="505" height="505" as="geometry" />
        </mxCell>
        <mxCell id="vKs9p2N3G4hvFBJP7lqV-3" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="vKs9p2N3G4hvFBJP7lqV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="80" y="335" as="sourcePoint" />
            <mxPoint x="670" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vKs9p2N3G4hvFBJP7lqV-5" value="Opioid-Abuse Predictor" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="300" y="40" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vKs9p2N3G4hvFBJP7lqV-6" value="A_Patient" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="90" y="305" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="vKs9p2N3G4hvFBJP7lqV-7" value="Probability That Patient Will Abuse Opioids" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="720" y="321.25" width="240" height="27.5" as="geometry" />
        </mxCell>
        <mxCell id="vKs9p2N3G4hvFBJP7lqV-10" value="Requester" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="50" y="303.75" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vKs9p2N3G4hvFBJP7lqV-12" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="vKs9p2N3G4hvFBJP7lqV-1" target="vKs9p2N3G4hvFBJP7lqV-7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="510" y="380" as="sourcePoint" />
            <mxPoint x="560" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="215" y="384" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-1" value="X&lt;sub&gt;n-2&lt;/sub&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="200" y="402.75" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-3" target="uxOLne1Ej9kA2Q2b6A0W-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-3" value="X&lt;sub&gt;n-1&lt;/sub&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="300" y="402.75" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-5" target="uxOLne1Ej9kA2Q2b6A0W-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-5" value="X&lt;sub&gt;n&lt;/sub&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="400" y="402.75" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-6" target="uxOLne1Ej9kA2Q2b6A0W-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-6" value="X&lt;sub&gt;n+1&lt;/sub&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="500" y="402.75" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="615" y="382.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-21" value="X&lt;sub&gt;n+2&lt;/sub&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="600" y="402.75" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="uxOLne1Ej9kA2Q2b6A0W-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="250" y="374" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-23" target="uxOLne1Ej9kA2Q2b6A0W-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-23" value="H&lt;sub&gt;n-2&lt;/sub&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="180" y="362.75" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-24" target="uxOLne1Ej9kA2Q2b6A0W-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-24" target="uxOLne1Ej9kA2Q2b6A0W-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-24" value="H&lt;sub&gt;n-1&lt;/sub&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="364" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-25" target="uxOLne1Ej9kA2Q2b6A0W-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-25" value="H&lt;sub&gt;n&lt;/sub&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="380" y="364" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-26" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="580" y="372.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-26" target="uxOLne1Ej9kA2Q2b6A0W-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-26" value="H&lt;sub&gt;n+1&lt;/sub&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="362.75" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uxOLne1Ej9kA2Q2b6A0W-27" target="uxOLne1Ej9kA2Q2b6A0W-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-27" value="H&lt;sub&gt;n+2&lt;/sub&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="580" y="364.75" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-34" value="O&lt;sub&gt;n-2&lt;/sub&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="200" y="319" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-35" value="O&lt;sub&gt;n-1&lt;/sub&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="300" y="319" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-36" value="O&lt;sub&gt;n&lt;/sub&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="400" y="319" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-37" value="O&lt;sub&gt;n+1&lt;/sub&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="500" y="319" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-38" value="O&lt;span style=&quot;font-size: 10px;&quot;&gt;n+2&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="600" y="319" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uxOLne1Ej9kA2Q2b6A0W-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450" y="374" as="sourcePoint" />
            <mxPoint x="480" y="373.75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="V5UhE_edA5gzmpnxQ03--17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="V5UhE_edA5gzmpnxQ03--8" target="uxOLne1Ej9kA2Q2b6A0W-1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="170" y="337" />
              <mxPoint x="170" y="418" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="V5UhE_edA5gzmpnxQ03--8" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="147" y="333.63" width="5" height="5" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="FK_GlA6BKO7unTXsTgL4" name="Page-2">
    <mxGraphModel dx="793" dy="557" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="_GyQT9EM_kyvCkkiP_LC-1" value="Once the Opioid Abuse predictor receives a patient’s interpreted medical history in the form of a feature matrix, the system will begin to process each event/visit chronologically.&lt;br&gt;&lt;p class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;The system registers the first visit/row vector as the initial input, denoted by X&lt;sub&gt;(n-2)&lt;/sub&gt;. This input vector is then concatenated with a hidden state vector of length 128, initialized to zeros (not shown in the diagram). This combined vector serves as the input to a Linear Layer, which transforms this combined vector back to a vector of the length of the original hidden state vector, 128. This new vector serves as the updated hidden state, given that it resulted from integrating the previous hidden state and the newly seen input X&lt;sub&gt;(n-2)&lt;/sub&gt; (shown in the diagram).&lt;br&gt;&lt;p class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;From here, the hidden state vector is then used as input to another Linear Layer (not shown in the diagram), which transforms it into an output vector of length two. Once this output vector is passed through a logsoftmax function, the two numbers represent the probability that the patient belongs in the “Will Opioid Abuse” and belongs in the “Will not Abuse Opioids” class (shown in the diagram).&lt;br&gt;&lt;p class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;This hidden state vector also serves another role, in addition to producing the output vector, because it is now the initial hidden state for the next input vector (shown in the diagram). In the next iteration, in which the next visit is processed, this hidden state vector will again be integrated with the new input vector by virtue of the linear layer to produce an updated hidden state vector.&lt;span class=&quot;Apple-converted-space&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;p class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;As the diagram shows, an output will be generated at each time step, but only the output from the last iteration will be the probability that the patient will abuse opioids. This is because, on the last iteration, the hidden state vector will ideally represent information from all past input events, X&lt;sub&gt;(n-2)&lt;/sub&gt;, X&lt;sub&gt;(n-1)&lt;/sub&gt;, … X(n+2). Only at this point, can a reliable output be generated for validation purposes." style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="70" width="560" height="520" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
